"{\n \"text\": \"Here is a Javascript function to efficiently find prime numbers within a given range, optimized for performance and memory usage, along with a detailed explanation. This implementation uses the Sieve of Eratosthenes algorithm.\",\n \"code\": {\n \"findPrimes.js\": {\n \"content\": \"/** _ Finds all prime numbers up to a given limit using the Sieve of Eratosthenes algorithm. _ _ @param {number} limit The upper limit for finding prime numbers. _ @returns {number[]} An array containing all prime numbers up to the limit. _ @throws {TypeError} If the input is not a number. _ @throws {RangeError} If the input is negative. _ @complexity O(n log log n) - Time, O(n) - Space _/function findPrimes(limit) { if (typeof limit !== 'number') { throw new TypeError('Input must be a number.'); } if (limit < 0) { throw new RangeError('Input must be a non-negative number.'); } if (limit <= 1) { return []; // No primes less than or equal to 1 } // Initialize an array of booleans, all set to true initially. const isPrime = new Array(limit + 1).fill(true); // 0 and 1 are not prime numbers. isPrime[0] = isPrime[1] = false; // Sieve of Eratosthenes algorithm. for (let p = 2; p _ p <= limit; p++) { // If isPrime[p] is not changed, then it is a prime. if (isPrime[p]) { // Update all multiples of p to false. for (let i = p _ p; i <= limit; i += p) { isPrime[i] = false; } } } // Collect all prime numbers into an array. const primes = []; for (let i = 2; i <= limit; i++) { if (isPrime[i]) { primes.push(i); } } return primes;}/** _ Validates that a number is an integer. _ _ @param {number} number The number to validate. _ @returns {boolean} True if the number is an integer, false otherwise. \*/function isInteger(number) { return typeof number === 'number' && Number.isInteger(number);}module.exports = findPrimes;// Example usage:if (require.main === module) { try { const limit = 100; const primeNumbers = findPrimes(limit); console.log(`Prime numbers up to ${limit}:`, primeNumbers); } catch (error) { console.error(error.message); }}\"\n },\n \"test/findPrimes.test.js\": {\n \"content\": \"const findPrimes = require('../findPrimes');describe('findPrimes', () => { it('should return an empty array for limit less than or equal to 1', () => { expect(findPrimes(0)).toEqual([]); expect(findPrimes(1)).toEqual([]); }); it('should return correct prime numbers for limit 10', () => { expect(findPrimes(10)).toEqual([2, 3, 5, 7]); }); it('should return correct prime numbers for limit 20', () => { expect(findPrimes(20)).toEqual([2, 3, 5, 7, 11, 13, 17, 19]); }); it('should throw a TypeError if input is not a number', () => { expect(() => findPrimes('abc')).toThrow(TypeError); expect(() => findPrimes(null)).toThrow(TypeError); expect(() => findPrimes(undefined)).toThrow(TypeError); expect(() => findPrimes({})).toThrow(TypeError); expect(() => findPrimes([])).toThrow(TypeError); }); it('should throw a RangeError if input is negative', () => { expect(() => findPrimes(-1)).toThrow(RangeError); expect(() => findPrimes(-100)).toThrow(RangeError); }); it('should handle large limits efficiently', () => { const limit = 100000; // Increased limit for efficiency test const primes = findPrimes(limit); expect(primes.length).toBeGreaterThan(9000); // There should be many primes expect(primes[0]).toBe(2); // Basic check to ensure correctness expect(primes[primes.length - 1]).toBeGreaterThan(9000); // Last prime should be large }); it('should return [2] for limit 2', () => { expect(findPrimes(2)).toEqual([2]); }); it('should return [2, 3] for limit 3', () => { expect(findPrimes(3)).toEqual([2, 3]); });});\"\n },\n \"package.json\": {\n \"content\": \"{ \\\"name\\\": \\\"find-primes\\\", \\\"version\\\": \\\"1.0.0\\\", \\\"description\\\": \\\"Efficiently finds prime numbers within a given range\\\", \\\"main\\\": \\\"findPrimes.js\\\", \\\"scripts\\\": { \\\"test\\\": \\\"jest\\\" }, \\\"keywords\\\": [ \\\"prime\\\", \\\"numbers\\\", \\\"algorithm\\\", \\\"sieve\\\", \\\"eratosthenes\\\" ], \\\"author\\\": \\\"Bard\\\", \\\"license\\\": \\\"ISC\\\", \\\"devDependencies\\\": { \\\"jest\\\": \\\"^29.0.0\\\" }, \\\"dependencies\\\": {}}\"\n },\n \"jest.config.js\": {\n \"content\": \"// jest.config.jsmodule.exports = { testEnvironment: 'node', verbose: true, collectCoverage: true, coverageDirectory: 'coverage', coverageReporters: ['text', 'lcov'], // Add more configurations as needed};\"\n }\n }\n}"
